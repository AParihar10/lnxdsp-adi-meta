require conf/machine/include/adsp-sc598-som-ezkit.inc

#Using the SPL is highly suggested, the non-SPL path is considered legacy/deprecated

#Not using SPL -- use below, uncomment 3 line below
#UBOOT_MACHINE = "sc598-som-ezkit_defconfig"
#MMC_BOOT_STAGE1 = "u-boot-sc598-som-ezkit.ldr.emmc_boot_stage1"
#MMC_BOOT_STAGE2 = "u-boot-sc598-som-ezkit.ldr.emmc_boot_stage2"

#Using SPL -- use below, otherwise comment out 4 lines below
UBOOT_MACHINE = "sc598-som-ezkit-spl_defconfig"
SPL_BINARY = "1"
MMC_BOOT_STAGE1 = "u-boot-spl-sc598-som-ezkit.ldr"
MMC_BOOT_STAGE2 = "u-boot-proper-sc598-som-ezkit.img"

#Using Falcon Mode SPL -- use below, otherwise comment out 4 lines below
#UBOOT_MACHINE = "sc598-som-ezkit-falcon_defconfig"
#SPL_BINARY = "1"
#MMC_BOOT_STAGE1 = "u-boot-spl-sc598-som-ezkit.ldr"
#MMC_BOOT_STAGE2 = "u-boot-proper-sc598-som-ezkit.img"

UBOOT_ENTRYPOINT = "0x80008000"
UBOOT_LOADADDRESS = "0x80008000"

KERNEL_DEVICETREE += "adi/sc598-som-ezkit.dtb"

SERIAL_CONSOLE ?= "57600 ttySC0"
SERIAL_CONSOLES ?= "57600;ttySC0"

IMAGE_FSTYPES = "tar.xz jffs2 wic.gz ext4"

WKS_FILE="adsp-sc598.wks.in"

IMAGE_INSTALL += "mtd-utils-ubifs mtd-utils-jffs2"

EXTRA_IMAGECMD_jffs2 = "--pad --little-endian --eraseblock=0x10000 --no-cleanmarkers"

MACHINE_EXTRA_RRECOMMENDS = "kernel-modules"
BOARD = "sc598-som-ezkit"
